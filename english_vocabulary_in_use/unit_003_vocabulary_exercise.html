<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i t·∫≠p t·ª´ v·ª±ng Unit 3: Parts of the Body</title>
    <!-- Nh√∫ng Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <!-- Container ch√≠nh -->
    <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden">

        <!-- Header -->
        <div class="bg-blue-600 p-6 text-white text-center">
            <h1 class="text-2xl font-bold mb-2">Unit 3: Parts of the Body</h1>
            <p class="text-blue-100 text-sm">Ch·ªçn nghƒ©a Ti·∫øng Vi·ªát ƒë√∫ng cho t·ª´ b√™n d∆∞·ªõi</p>
        </div>

        <!-- M√†n h√¨nh Quiz -->
        <div id="quiz-screen" class="p-6 md:p-8">
            <!-- Progress Bar -->
            <div class="flex justify-between text-sm text-gray-500 mb-2">
                <span id="progress-text">C√¢u 1 / 30</span>
                <span id="score-text">ƒêi·ªÉm: 0</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300"
                    style="width: 0%"></div>
            </div>

            <!-- C√¢u h·ªèi -->
            <div class="text-center mb-8 fade-in">
                <div class="inline-block bg-blue-50 text-blue-800 px-4 py-1 rounded-full text-sm font-semibold mb-4"
                    id="ipa-text"></div>
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-2" id="question-word"></h2>
                <p class="text-gray-400 text-sm italic">Nghƒ©a c·ªßa t·ª´ l√† g√¨?</p>
            </div>

            <!-- C√°c l·ª±a ch·ªçn -->
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <!-- Buttons s·∫Ω ƒë∆∞·ª£c render b·∫±ng JS t·∫°i ƒë√¢y -->
            </div>

            <!-- Th√¥ng b√°o k·∫øt qu·∫£ v√† n√∫t ti·∫øp theo -->
            <div id="feedback-area" class="hidden text-center mt-4">
                <p id="feedback-message" class="text-lg font-bold mb-4"></p>
                <button id="next-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition transform hover:scale-105 shadow-md">
                    C√¢u ti·∫øp theo
                </button>
            </div>
        </div>

        <!-- M√†n h√¨nh K·∫øt qu·∫£ (·∫®n m·∫∑c ƒë·ªãnh) -->
        <div id="result-screen" class="hidden p-8 text-center">
            <div class="mb-6">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4">
                    <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">Ho√†n th√†nh!</h2>
                <p class="text-gray-600 mt-2">B·∫°n ƒë√£ ho√†n th√†nh b√†i t·∫≠p t·ª´ v·ª±ng.</p>
            </div>

            <div class="bg-gray-50 rounded-xl p-6 mb-8">
                <p class="text-gray-500 text-sm uppercase tracking-wide">ƒêi·ªÉm s·ªë c·ªßa b·∫°n</p>
                <p class="text-5xl font-bold text-blue-600 mt-2" id="final-score">0</p>
                <p class="text-gray-400 mt-1" id="total-questions">/ 30</p>
            </div>

            <button onclick="location.reload()"
                class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-8 rounded-lg transition">
                L√†m l·∫°i b√†i t·∫≠p
            </button>
        </div>

    </div>

    <script>
        // D·ªØ li·ªáu t·ª´ v·ª±ng t·ª´ file markdown Unit 3
        const vocabularyData = [
            { word: "hair", ipa: "/h…õr/", meaning: "t√≥c" },
            { word: "eye", ipa: "/a…™/", meaning: "m·∫Øt" },
            { word: "nose", ipa: "/no äz/", meaning: "m≈©i" },
            { word: "tooth", ipa: "/tuÀêŒ∏/", meaning: "rƒÉng (m·ªôt c√°i)" },
            { word: "teeth", ipa: "/tiÀêŒ∏/", meaning: "rƒÉng (nhi·ªÅu)" },
            { word: "ear", ipa: "/…™r/", meaning: "tai" },
            { word: "lip", ipa: "/l…™p/", meaning: "m√¥i" },
            { word: "neck", ipa: "/n…õk/", meaning: "c·ªï" },
            { word: "mouth", ipa: "/ma äŒ∏/", meaning: "mi·ªáng" },
            { word: "shoulder", ipa: "/Àà Éo äld…ôr/", meaning: "vai" },
            { word: "nail", ipa: "/ne…™l/", meaning: "m√≥ng (tay/ch√¢n)" },
            { word: "thumb", ipa: "/Œ∏ åm/", meaning: "ng√≥n c√°i" },
            { word: "finger", ipa: "/Ààf…™≈ã…°…ôr/", meaning: "ng√≥n tay" },
            { word: "hand", ipa: "/h√¶nd/", meaning: "b√†n tay" },
            { word: "arm", ipa: "/…ëÀêrm/", meaning: "c√°nh tay" },
            { word: "leg", ipa: "/l…õ…°/", meaning: "ch√¢n" },
            { word: "knee", ipa: "/niÀê/", meaning: "ƒë·∫ßu g·ªëi" },
            { word: "foot", ipa: "/f ät/", meaning: "b√†n ch√¢n" },
            { word: "feet", ipa: "/fiÀêt/", meaning: "b√†n ch√¢n (nhi·ªÅu)" },
            { word: "toe", ipa: "/to ä/", meaning: "ng√≥n ch√¢n" },
            { word: "chest", ipa: "/t É…õst/", meaning: "ng·ª±c" },
            { word: "side", ipa: "/sa…™d/", meaning: "h√¥ng / s∆∞·ªùn" },
            { word: "stomach", ipa: "/Ààst åm…ôk/", meaning: "d·∫° d√†y / b·ª•ng" },
            { word: "back", ipa: "/b√¶k/", meaning: "l∆∞ng" },
            { word: "waist", ipa: "/we…™st/", meaning: "eo" },
            { word: "hip", ipa: "/h…™p/", meaning: "h√¥ng" },
            { word: "skin", ipa: "/sk…™n/", meaning: "da" },
            { word: "heart", ipa: "/h…ëÀêrt/", meaning: "tim" },
            { word: "brain", ipa: "/bre…™n/", meaning: "n√£o" },
            { word: "blood", ipa: "/bl åd/", meaning: "m√°u" }
        ];

        // Tr·∫°ng th√°i ·ª©ng d·ª•ng
        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledQuestions = [];

        // C√°c ph·∫ßn t·ª≠ DOM
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const questionWordEl = document.getElementById('question-word');
        const ipaTextEl = document.getElementById('ipa-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackMessage = document.getElementById('feedback-message');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const scoreText = document.getElementById('score-text');
        const finalScoreEl = document.getElementById('final-score');
        const totalQuestionsEl = document.getElementById('total-questions');

        // H√†m x√°o tr·ªôn m·∫£ng (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Kh·ªüi t·∫°o b√†i quiz
        function initQuiz() {
            shuffledQuestions = shuffleArray([...vocabularyData]);
            loadQuestion();
        }

        // T·∫£i c√¢u h·ªèi
        function loadQuestion() {
            // Reset giao di·ªán
            feedbackArea.classList.add('hidden');
            optionsContainer.innerHTML = '';

            const currentData = shuffledQuestions[currentQuestionIndex];

            // C·∫≠p nh·∫≠t th√¥ng tin c√¢u h·ªèi
            questionWordEl.textContent = currentData.word;
            ipaTextEl.textContent = currentData.ipa;

            // C·∫≠p nh·∫≠t Progress bar
            const progress = ((currentQuestionIndex) / shuffledQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `C√¢u ${currentQuestionIndex + 1} / ${shuffledQuestions.length}`;
            scoreText.textContent = `ƒêi·ªÉm: ${score}`;

            // T·∫°o ƒë√°p √°n
            const correctAnswer = currentData.meaning;

            // L·∫•y 3 ƒë√°p √°n sai ng·∫´u nhi√™n
            let wrongAnswers = vocabularyData
                .filter(item => item.meaning !== correctAnswer)
                .map(item => item.meaning);

            wrongAnswers = shuffleArray(wrongAnswers).slice(0, 3);

            // G·ªôp ƒë√°p √°n ƒë√∫ng v√† sai r·ªìi x√°o tr·ªôn
            let allAnswers = [correctAnswer, ...wrongAnswers];
            allAnswers = shuffleArray(allAnswers);

            // Render buttons
            allAnswers.forEach(answer => {
                const button = document.createElement('button');
                button.className = "w-full bg-white border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-gray-700 font-semibold py-4 px-4 rounded-xl transition duration-200 text-left flex items-center group";
                button.innerHTML = `
                    <span class="w-8 h-8 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center mr-3 text-sm group-hover:bg-blue-200 group-hover:text-blue-700 transition">?</span>
                    ${answer}
                `;
                button.onclick = () => checkAnswer(button, answer, correctAnswer);
                optionsContainer.appendChild(button);
            });
        }

        // Ki·ªÉm tra ƒë√°p √°n
        function checkAnswer(selectedBtn, selectedAnswer, correctAnswer) {
            // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ n√∫t
            const buttons = optionsContainer.querySelectorAll('button');
            buttons.forEach(btn => btn.disabled = true);

            const isCorrect = selectedAnswer === correctAnswer;

            if (isCorrect) {
                selectedBtn.classList.remove('border-gray-200', 'hover:border-blue-500', 'hover:bg-blue-50');
                selectedBtn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                selectedBtn.innerHTML = selectedBtn.innerHTML.replace('?', '‚úì');
                score++;
                feedbackMessage.textContent = "Ch√≠nh x√°c! üéâ";
                feedbackMessage.className = "text-lg font-bold text-green-600 mb-4";
            } else {
                selectedBtn.classList.remove('border-gray-200', 'hover:border-blue-500', 'hover:bg-blue-50');
                selectedBtn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                selectedBtn.innerHTML = selectedBtn.innerHTML.replace('?', '‚úï');

                // Highlight ƒë√°p √°n ƒë√∫ng
                buttons.forEach(btn => {
                    if (btn.textContent.includes(correctAnswer)) {
                        btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                        btn.innerHTML = btn.innerHTML.replace('?', '‚úì');
                    }
                });

                feedbackMessage.textContent = `Sai r·ªìi! ƒê√°p √°n ƒë√∫ng l√†: ${correctAnswer}`;
                feedbackMessage.className = "text-lg font-bold text-red-600 mb-4";
            }

            scoreText.textContent = `ƒêi·ªÉm: ${score}`;
            feedbackArea.classList.remove('hidden');
            feedbackArea.classList.add('fade-in');
        }

        // Chuy·ªÉn c√¢u ti·∫øp theo
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < shuffledQuestions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });

        // Hi·ªÉn th·ªã k·∫øt qu·∫£ cu·ªëi c√πng
        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            resultScreen.classList.add('fade-in');

            finalScoreEl.textContent = score;
            totalQuestionsEl.textContent = `/ ${shuffledQuestions.length}`;
        }

        // Ch·∫°y ·ª©ng d·ª•ng
        initQuiz();

    </script>
</body>

</html>